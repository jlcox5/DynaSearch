DynaSearch User’s Manual Jonathan Cox, Donald House, Michael Lindell March 10, 2010 Contents 1 Introduction 1 1.1 AShortExample ............................ 1 1.1.1 TheLoginScreen........................ 1 1.1.2 TheSizeRegistrationScreen.................. 2 1.1.3 TheInstructionScreen ..................... 2 1.1.4 TheTrainingScreen ...................... 2 1.1.5 TheSurveyPage ........................ 2 2 Administrative Tools 5 2.1 AQuickOverview ........................... 5 2.1.1 InstructionPages ........................ 5 2.1.2 TrainingPages ......................... 6 2.1.3 QuestionnaireEditor ...................... 9 2.1.4 QuestionnaireCatalog ..................... 11 2.1.5 QuestionnaireViewer...................... 12 2.1.6 ExperimentEditor ....................... 13 A Database Information 17 A.1 surclicks ................................ 17 A.1.1 Dummy............................. 17 A.1.2 UserName ........................... 17 A.1.3 SessionNumber......................... 17 A.1.4 ObjClicked ........................... 18 A.1.5 ClickLength .......................... 18 A.1.6 ClickNumber.......................... 18 A.2 surquestion............................... 19 A.2.1 id ................................ 19 A.2.2 Name.............................. 19 A.2.3 Value .............................. 19 A.3 surrandquestion ............................ 19 A.3.1 id ................................ 19 A.3.2 Designator ........................... 19 A.3.3 Value .............................. 19 A.4 texperiments .............................. 20 iii A.4.1 id ................................ 20 A.4.2 ExperimentShortName..................... 20 A.4.3 ExperimentString........................ 20 A.5 tuser .................................. 20 A.5.1 UserID............................. 20 A.5.2 CountyID ........................... 20 A.5.3 UPassword ........................... 20 A.5.4 UserType............................ 21 A.5.5 Name.............................. 21 A.5.6 scaleW ............................. 21 A.5.7 scaleH.............................. 21 A.5.8 currentposition......................... 21 A.5.9 experiment ........................... 21 A.5.10FORECAST .......................... 21 A.5.11PAST TRACK ......................... 22 A.5.12CONE.............................. 22 A.5.13CURRENT ........................... 22 B Filesystem Information 23 B.1 MainFiles................................ 23 B.2 ExperimentFiles ............................ 24 B.3 ExperimentResources ......................... 24 B.3.1 advisory ........................... 24 B.3.2 images ............................ 24 B.3.3 instructPages ...................... 24 B.3.4 tables ............................ 24 B.3.5 tracking .......................... 24 B.4 UserData ................................ 25 B.5 OtherAssets............................... 25 B.5.1 images ............................ 25 B.5.2 php .............................. 25 B.5.3 scripts ........................... 25 B.5.4 style ............................ 25 C Math 27 C.1 RadiusofWindSpeed ......................... 27 C.2 UncertaintyCone ............................ 28 D Installing DynaSearch 29 Chapter 1 Introduction DynaSearch is a system that allows you to create experiments designed to test how users collect information. This is done by allowing users to click on speciﬁc buttons or areas of a window in order to display certain pieces of data. In order to accomplish this, DynaSearch provides you with the tools necessary build these pages in a web based environment. The rest of this document will explain these tools in greater detail, but in order to provide you with a picture of the end product, a short example of what can be created is detailed below. 1.1 A Short Example 1.1.1 The Login Screen All users should be provided with a user name and password so that they may login to the system. The login screen is displayed in Fig. 1.1. 1 1.1.2 The Size Registration Screen In order to ensure that all users see screen elements of the exact same size, regardless of screen size and resolution, a size registration must ﬁrst be performed. This is done by holding a real life credit card up to the screen and sliding the edges of the picture until it is the same size as an actual card. This screen is shown in Fig. 1.2. 1.1.3 The Instruction Screen Users can be supplied with supplemental information using the instruction screen. A sample instruction screen is displayed in Fig. 1.3. 1.1.4 The Training Screen The training screen records the order and duration of user clicks. The user clicks on the screen in order to uncover certain pieces of information, whether it is a cell of a table or information drawn over an image. A sample training screen is displayed in Fig. 1.4. 1.1.5 The Survey Page The survey screen allows the users to respond to speciﬁc questions designed by you. There are currently three question types available for use. A sample survey screen is displayed in Fig. 1.5. 1.1. A SHORT EXAMPLE Chapter 2 Administrative Tools 2.1 A Quick Overview From this point forward, the term “you” will refer to the individual creating the exper.iments, and the term “user” refers to the research participants. The DynaSearch system allows for the creation of surveys that can contain three types of pages. The ﬁrst is the instruction page. Here, basic HTML is displayed that can be used to convey speciﬁc instructions to users or as a means of supplying them with supplemental information. The second is the training page. This page is composed of tables, text boxes, and maps that are all hidden when the page ﬁrst loads. In order for users to see this information, they must click on the desired element. The order and duration of these clicks is tracked by a database typically hosted on the web server. The last type of page is a questionnaire which provides users the opportunity to give feedback, or as a way to test the users on previously displayed information. In order to create these pages, accounts with administrator access are taken to an administrator page where links to the different editors are listed. Instruction pages, training pages, and questionnaire pages can be created in any order. The survey creation tool should not be used until all of the pages for a given experiment have been ﬁnished.. The remainder of this section will explain the use and operation of these editors. For more information regarding the database, please refer to Appendix A. For more information on the ﬁle system, please see Appendix B. 2.1.1 Instruction Pages To create an instruction page, just create a text ﬁle that contains the information desired and place it in the DynaSearch/expResources/instructPages/ directory located in the DynaSearch ﬁle system. Because this data will be inserted between the <body> tags of the template instruction page, any additional HTML tags maybe used as desired by the administrator. These ﬁles will automatically be available from the Survey Setup editor page. 5 2.1.2 Training Pages To access the training page, select the Training Page Editor link from the administra.tor’s page. This will take you to a blank training editor page with the toolbar window located in the upper left window. With the exception of the trash can, each of the icons on the toolbar allow for the creation of a different window. The toolbar window is displayed in Fig. 2.1. The toolbar window and any other created window can be moved by clicking and dragging on the title handle of the window. The Trash Bin The trash bin allows you to delete unwanted windows. Simply click on the title bar of the window you wish to remove, and drag it over the trash can. When you release it, it will be deleted. The Image Window The image window will allow you to select the images to be displayed. This function will allow you to display any type of picture, even though it was originally designed to display maps (see Fig. 2.2). It may be resized by clicking and dragging on the small white box in the lower right hand corner. The image ﬁle that you wish to use, as well as the advisory number for the training screen, can be set by clicking on the blue “i” icon in the upper right hand corner of the window. The image ﬁle should be located in the DynaSearch/expResources/images/ directory. Also located in that directory is the geographical information associated 2.1. A QUICK OVERVIEW with the image. The name of this ﬁle must be the name of the image ﬁle plus the exten.sion GEO.txt. For example, the default map ﬁle name is hurricane map 1.png, so the corresponding GEO ﬁle will be hurricane map 1 GEO.txt. This ﬁle is required in order to accurately draw the advisory information on the map window, and speciﬁes the latitude and longitude information of the map. Note that the GEO ﬁle takes the following format: longitude of left side, longitude of right side, latitude of bottom, latitude of top. Also note that longitudes on the western hemi.sphere and latitudes on the southern hemisphere are represented by negative numbers, while longitudes on the eastern hemisphere and latitudes of the northern hemisphere are represented by positive numbers. The tracking information needed to draw the forecast data must also have the same name as the map ﬁle with the extension .txt. For example, if the map image ﬁle is named hurricane map 1.png, then the tracking information ﬁle should be named hurricane map 1.txt. This ﬁle should be placed in the directory DynaSearch/expResources/tracking. Each advisory number has six lines associated with it in the tracking ﬁle, and each line is formatted as follows: advi.sory number, latitude, longitude. The ﬁrst line is the current hurricane position. The following ﬁve lines are the forecast positions for one, two, three, four, and ﬁve days respectively. Note that if this particular page in your experiment requires the use of the map legend, than only one image window can be displayed. The Text Window The text window is used to display paragraphs or sections of text to the user. These will be hidden during a training session until the user clicks on the section containing the text. The title of the window and the text inside can both be modiﬁed by clicking on the blue “i” icon in the top right corner of the window. It can be resized by clicking and dragging on the white box in the bottom right corner of the window. The Clock Window The clock window determines how long a page will be available to a user. By clicking on the blue “i” icon, you can specify the number of minutes that each user should receive. The default time is 20 minutes. If no clock window is created, then the window will be available to the user until they click on the Done button. Please note that the clock window will not actually be displayed while the experiment is being run. The Table Window The table window displays table information as seen in Fig. 2.3. Clicking on the blue “i” icon will allow the user to change both the table name and the ﬁle from which the ta.ble data is stored. These text ﬁles are stored in the directory DynaSearch/expResources/tables. The ﬁrst row and column will always be visible. Columns are separated by commas, and the rows are separated by new lines. To resize the table, click on the white box in the bottom right corner of the table window. You must resize the table manually in order to test that the table displays the information correctly. In order to distinguish which table a user is clicking on from the entries in the database, the tables in an experiment should have unique table names. The Legend Window The legend window is associated with the image window on the editor screen (see Fig. 2.4). It contains buttons that the user can click to obtain various levels of infor.mation. Clicking on the blue “i” icon will allow you to rename the title for the legend window. User access to each group of buttons can be controlled by setting the cor.rect permissions in the t user database table. For more information regarding these, please see Appendix A. The following button groups are currently implemented: 1. Current Location -Shows the current location of the hurricane and the rings of winds with varying wind speeds 2. Past Track -Show the path that the hurricane has taken over the past 1-5 days 3. Forecast Track -Shows the path that the hurricane is projected to take for the next 1-5 days 4. Uncertainty Cone -Shows the uncertainty cone for the next 1-5 days Note that there can be only one map and one legend window for a given training screen. 2.1. A QUICK OVERVIEW Loading To load a previously saved training screen, pick the training ﬁle from the drop down menu that you wish to work with and hit the Load button. Note that to save any changes made to this training screen, you must hit the Save button before navigating away from the page. Saving The Save button will prompt you to enter a name to save the ﬁle as. The extension .txt will automatically be added to the name you supply, so it is not necessary to include that in the ﬁle name. For example, if you want the ﬁle name to be test1.txt, enter only test1. 2.1.3 Questionnaire Editor The Questionnaire Editor allows you to create a questionnaire that can be taken by users as they progress through an experiment. There are ﬁve basic building blocks that can be incorporated into each type of questionnaire, four of which are accessed through the toolbar displayed in Fig. 2.5 and the last of which is selected from the drop down menu on the page. Each of these is described in greater detail below. The information submitted by the users is kept in a ﬁle with the same name as the user’s id, and is stored in the directory DynaSearch/userData. For more information on the ﬁle system, please refer to Appendix B. Section The Section option allows you to split the questionnaire into different sections. Only one questionnaire section is open at a time. Each section is accessed by clicking on the section header bar. Note that this will only be visible to the user. The questionnaire will remain expanded while in administrator mode. To create a section header, click on the Section radio button, and then hit Next.A prompt for the title will appear. After you enter a title and select the Next button, the section header will be visible on the page. To remove a section header, simply click on the red minus symbol above the upper right corner of the element. Radio Button Question To create a radio button question, select the Radio Button Question option from the toolbar and hit Next. DynaSearch will display a prompt for the question as well as the 2.1. A QUICK OVERVIEW number of radio button choices. After you ﬁll this information out and again hit the Next button, DynaSearch will prompt you to provide the speciﬁc value for each radio button option. Note that DynaSearch will record the information as the index value you choose, and not the value you enter. To remove a radio button, simply click on the red minus symbol above the upper right corner of the element. Text Question The Text Question option allows for the creation of a free response question. By selecting this option and clicking on the Next button, you will be prompted to provide the question for the text, as well as the number of characters that should be displayed on the screen for a response. Please note that the user may enter a response that is larger than this value, and that the entire response will be saved. This number only dictates how much of the response is displayed on the screen at one time. After this information is ﬁlled out, the question can be added to the screen by hitting the Next button. To remove a text question, simply click on the red minus symbol above the upper right corner of the element. Line of Text The Line of Text option allows you to provide users with additional instructions or information. After selecting this option and hitting the Next button, DynaSearch will prompt you to enter in the text that should be displayed. To add the information to the page, click the Next button again. To remove a line of text, simply click on the red minus symbol above the upper right corner of the element. Drop Down Question List The administrator may place a prewritten radio or text question from the Questionnaire Catalog by selecting the appropriate question designator from the drop down menu on the page. For more information regarding the Questionnaire Catalog, please see the appropriate section of this guide. To remove a question added by the drop down list, simply click on the red minus symbol above the right corner of the element. Save To save a questionnaire, hit the Save button. DynaSearch will prompt you to create a title for the questionnaire at the bottom of the page. After you enter the title, click the Save button on the bottom of the page. 2.1.4 Questionnaire Catalog The Questionnaire Catalog can be used to create questions that will be used multiple times throughout several questionnaires. You can create two question types from this screen through the toolbar shown in Fig. 2.6. They are the radio question and text question types. Radio Button Question To create a radio button question, select the Radio Button Question option from the toolbar and hit Next. DynaSearch will display a prompt for the question as well as the number of radio button choices. After you ﬁll this information out and again hit the Next button, DynaSearch will prompt you to provide the speciﬁc values for each radio button option. After you ﬁll the values, hit Next to save the question. A text box on the page will appear where a question designator can be created. This will be used to identify the question from the Question Editor screen via the Drop Down Question List. Note that DynaSearch will record the information as the index value you choose, and not the value you enter. Text Question The Text Question option allows for the creation of a free response question. By se.lecting this option and clicking on the Next button, you will be prompted to provide the question for the text, as well as the number of characters that should be displayed on the screen for a response. Please note that the user may enter a response that is larger than this value, and that the entire response will be saved. This number only dictates how much of the response is displayed on the screen at one time. After you ﬁll this information out and again hit the Next button, DynaSearch will prompt you to provide the speciﬁc values for each radio button option. After you ﬁll the values, hit Next to save the question. A text box on the page will appear where a question designator can be created. This will be used to identify the question from the Question Editor screen via the Drop Down Question List. 2.1.5 Questionnaire Viewer You can use this screen to view previously created questionnaires. To view a question.naire, select the questionnaire from the drop down list, and click the Load button. It is important to note that once a questionnaire is saved in the Questionnaire Ed.itor, it can not be reloaded and changed in anyway without accessing the saved ques.2.1. A QUICK OVERVIEW 13 tionnaire directly in the sur questions database table and modifying the Value ﬁeld. However, it can be completely overwritten by a new questionnaire. 2.1.6 Experiment Editor The Experiment Editor allows you to combine any number of instruction pages, train.ing pages, and questionnaires into a single experiment. The interface shown in Fig. 2.7 will allow you to select and assemble the various elements required. To change the title of a new experiment, click on the current title. It is located at the top of the screen and is surrounded by quotes with a default value of, New Experiment. Add Information Page The Add Information Page button will allow you to insert a new information page into the current experiment. When this button is clicked, a new page is inserted into the current list of pages, as is shown in Fig. 2.8. The default title of the page is New Page. You can modify this by clicking on the current title, at which point DynaSearch will prompt you to enter a new one. The default ﬁle associated with this page is set to (unassigned), which can also be changed by clicking on it. Please be sure to enter the full ﬁle name of the instruction page that you wish to use. A list of the currently available instruction pages can be found by selecting the drop down list entitled Active Instruction Pages. The ﬁles listed are those that are stored in the DynaSearch/expResources/instructPages directory. To change the sequence of a page, click and drag the blue box on the left hand side of the page’s label up or down to slide it into the desired location. To remove a page from your list of pages, select the red minus sign on the right hand side of its label. Figure 2.8: This element allows you to insert an instruction page. Add Training Page The Add Training Page button will allow you to insert a new training page into the cur.rent experiment. When this button is clicked, a new training page is inserted into the current list of pages, as is shown in Fig. 2.9. The default title of the page is New Page. You can modify this by clicking on the current title, at which point DynaSearch will prompt you to enter a new one. The default ﬁle associated with this page is set to (unas.signed), which can also be changed by clicking on it. Please be sure to enter the full ﬁle name of the training page that you wish to use. A list of the currently available training pages can be found by examining the drop down list entitled Active Advisories. The ﬁles listed are those that are stored in the DynaSearch/expResources/advisory directory. To change the sequence of a page, click and drag the blue box on the left hand side of the page’s label up or down to slide it into the desired location. To remove a page from your list of pages, select the red minus sign on the right hand side of its label. Figure 2.9: This element allows you to insert a training page. Add Survey Page The Add Survey Page button will allow you to insert a new questionnaire into the cur.rent experiment. When this button is clicked, a new survey page is inserted into the current list of pages, as is shown in Fig. 2.10. The default title of the page is New Page. You can modify this by clicking on the current title, at which point DynaSearch will prompt you to enter a new one. The second parameter is the ﬁle name. Its default value is listed as (unassigned). This is the name of the ﬁle that the questionnaire will be saved to in the experiment’s directory. The extension of any ﬁlename given should be .txt. The ﬁnal parameter in the list is the name of the questionnaire that you would like to use. This should be the name of the saved questionnaire that was created using the Questionnaire Editor. A list of all of the available questionnaires is under the drop down listed entitled Active Surveys. To change the sequence of a page, click and drag the blue box on the left hand side of the page’s label up or down to slide it into the desired location. To remove a page from your list of pages, select the red minus sign on the right hand side of its label. Figure 2.10: This element allows you to insert a survey page. 2.1. A QUICK OVERVIEW New Survey To start a new survey, click on the New Survey. Doing this will clear any work that has been done, so it is important to save previous work before continuing. Save Survey To save a survey that you have been working on, click on the Save Survey button. DynaSearch will then use the experiment name and automatically create a folder in the directory DynaSearch/hurricane data. This is explained in greater detail in Appendix B. Load Survey To load a previously saved survey, select the survey that you wish to load from the drop down menu and then click on the Load button. Appendix A Database Information The tables listed below are used for the DynaSearch system. Any other tables you ﬁnd in the database are legacy items from the original EMDSS application on which this website was based. The tables have no dependency on each other. Because of this, the resulting structure is very simple and easy to maintain. The tables are explained in greater detail below. The database used for DynaSearch is MySQL 5.1. The entire system was built using version 2.0 of wampServer. A.1 sur clicks The sur clicks table records the click information for each user on training pages. Each entry in the database represents a single click. Each individual ﬁeld is explained below. A.1.1 Dummy This is the primary key for the entry. It allows you to determine when an element was inserted into the table in relation to the other elements. This can be useful for reordering the elements after ordering them by another value. A.1.2 UserName This is the user name of the individual that did the click. A.1.3 SessionNumber This ﬁeld was placed to keep track of users between separate experiments. It was determined that it would not be of much help for the currently designed experiments and so was never fully implemented. It has been left for possible future expansion of the software. For now it is assumed that each user only participates in one experiment once. If this is not the case, then their data will need to be cleared out of this table beforehand and their position number will need to be reset in t user. 17 A.1.4 ObjClicked This is the item that was clicked on a particular training page. Every objects name begins with “x toTrack”. From there the naming convention differs, depending on the element in question. The details for each of the three element types are given below. Tables The format for tables is: x toTrackTable “ﬁle name” “table name” “row” “column”. So for example, if the ﬁle name was testFile.txt, the table name was Table 1, and the user clicked on the ﬁrst row with the second column, then the entry would be x toTrackTable testFile.txt Table1 1 2. It is important to note that for any given experiment, there should be no two tables that share both the same ﬁle name and table name. Otherwise, it will be impossible to distinguish between them in the database. Map Legends The format for map legends is: x toTrackTable mapLegend adv “advisory number” “row” “column”. So for exam.ple, if the advisory number for the map on the training screen was ﬁve and the user clicked on the second row and the third column, then the entry would be x toTrackTable mapLegend adv 5 2 3). It is important to note that no two maps should have the same advisory number for a given experiment. Otherwise, it will be impossible to distinguish between them in the database. Text Blocks The format for text blocks is: x toTrackText “window name”. So for example, the the name of the text window was “Advisory Information”, then the entry would be x toTrackText AdvisoryInformation. It is important to note that no two text blocks should have the same title throughout an experiment. Otherwise, it will be impossible to distinguish between them in the database. A.1.5 ClickLength This gives how long the element was clicked in seconds. A.1.6 ClickNumber This gives the order that an element was clicked on a speciﬁc training page. Ordering the elements by their Dummy value will return the sequence in which the elements of a single training page were accessed. A.2. SUR QUESTION A.2 sur question This table holds all of the questionnaires that have been created within DynaSearch. Everything in this database is handled internally, so it should almost never need to be accessed. It should be noted that once experiments are created, the information in the Value ﬁeld is copied to a ﬁle in the ﬁle system. This is designed to protect individual experiments from issues that may occur with the database. The details of each ﬁeld are given below. A.2.1 id The id ﬁeld serves as the primary key for an entry. It should never need to be referenced. A.2.2 Name This is the name of the given questionnaire. It is what is displayed when trying to insert the questionnaire into different experiments. Each should be unique. A.2.3 Value This is the HTML that makes up the questionnaire. It is stored in its basic format. If the questionnaire needs to be edited in any way after it is saved, it will have to be through this ﬁeld, as there is currently no way to modify pre-existing surveys. A.3 sur randquestion This tables holds the questions that are created through the Questionnaire Catalog. They are single questions that maybe repeatedly inserted into a questionnaire. The details of each ﬁeld are given below. A.3.1 id The id ﬁeld serves as the primary key for an entry. It should never need to be referenced. A.3.2 Designator This is how the question is identiﬁed from the Questionnaire Editor. These should be unique values. A.3.3 Value This is the HTML that makes up the question, and is stored in its basic format. If the question needs to be modiﬁed in anyway after it is saved, it will have to be through this ﬁeld, as there is currently no way to change a question once it has been saved. A.4 t experiments The experiments table holds all of the information that is saved from the Experiment Editor. Short of removing experiments from the database, this table should rarely be referenced. A.4.1 id The id ﬁeld serves as the primary key for an entry. It should never need to be referenced. A.4.2 ExperimentShortName The experiment short name is the name of the experiment that will be seen from the Experiment Editor. It will be the name given to the experiment on creation without any spaces or special characters. A.4.3 ExperimentString This ﬁeld contains a string which represent the experiment referenced. Most of it is stored in hexadecimal characters, and is therefore unreadable by itself. This informa.tion should only ever be accessed through the Experiment Editor. This string keeps track of the order of the pages, as well as the names of the ﬁles that correspond to each page in the experiment’s folder. A.5 t user This table holds all of the account information for a given user. A detailed look at the ﬁelds is given below. A.5.1 User ID This is the identiﬁcation that the user provides to the login screen in order to access the experiment. A.5.2 County ID Lists the current county of the user. This ﬁeld is currently not used. A.5.3 UPassword The password for the user. Because the system was designed for academic purposes and no personal information is being stored, these passwords are not encrypted in any.way. A.5. T USER A.5.4 User Type This speciﬁes the role of the account. An “A” designates the account as an adminis.trator. If this is true, they will automatically taken to the administrator page on login. A “U” designates the account as user. On login this individual will be taken to the experiment they are participating in. They should not have access to any of the editors or administrator page. A.5.5 Name Real name of the user. A.5.6 scaleW This ﬁeld only applies to users. It is the width measurement that is recorded from the size registration page, and is used to ensure that every element on a training page is displayed with proper proportion, regardless of the monitor’s screen size or resolution. A.5.7 scaleH This ﬁeld only applies to users. It is the height measurement that is recorded from the size registration page, and is used to ensure that every element on a training page is displayed with proper proportion, regardless of the monitor’s screen size or resolution. A.5.8 current position This ﬁeld only applies to users. It determines where in an experiment the user should be, should they log out and try to log back in before the completion of the experiment. It should also prevent users from trying to back track in an experiment, though this behavior may vary from browser to browser. A.5.9 experiment This ﬁeld only applies to users. It determines which experiment will be displayed for a user when they log into the system. The value must be one of the Experiment Short Name entries listed in the t experiments table. A.5.10 FORECAST Determines whether or not the user should be able to click on the row of forecast buttons in the map legend window. A value of 0 means that the user will not be able to access this information, while a value of 1 means that they will. A.5.11 PAST TRACK Determines whether or not the user should be able to click on the row of past track buttons in the map legend window. A value of 0 means that the user will not be able to access this information, while a value of 1 means that they will. A.5.12 CONE Determines whether or not the user should be able to click on the row of cone of uncertainty buttons in the map legend window. A value of 0 means that the user will not be able to access this information, while a value of 1 means that they will. A.5.13 CURRENT Determines whether or not the user should be able to click on the current location button in the map legend window. A value of 0 means that the user will not be able to access this information, while a value of 1 means that they will. Appendix B Filesystem Information The ﬁle system is separated into ﬁve sections. These are the main ﬁles, experiment ﬁles, experiment resources, user data, and other assets. Each of these is detailed below. B.1 Main Files The main DynaSearch directory contains the ﬁles that are used during interaction with and creation of experiments. A quick overview is given of the most notable ﬁles. • 	admin.php -The page that administrators login to • 	advance.php and director.php -These ﬁles interact to ensure that users go to the right page when they login and click through the experiment • 	dynaview.php -The main training page that users interact with • 	editor.php -This is the page where the Training Page Editor loads • 	instructions.php -This is the page that is used to display instructions to the users • 	questDisplay.php -This page is used to implement the Questionnaire Viewer • 	questEditor.php -This page is used to implement the Questionnaire Editor • 	question.php -This page is used to display questionnaires to users • 	randQuestEditor.php -This page is used to implement the Questionnaire Catalog • 	survey setup.php -This page is used to implement the Experiment Editor 23 B.2 Experiment Files Inside the directory DynaSearch/hurricane data is a folder for every experi.ment that has been created. Inside these folders are ﬁles that correspond to each of the pages of the experiment. This means that for each instruction page, each training page, and each questionnaire, there will be one ﬁle in the experiment’s folder that cor.responds to it. Instruction and questionnaire pages will be displayed as HTML, while the training pages are encoded as hexadecimal characters. B.3 Experiment Resources The folder DynaSearch/expResources contains a number of sub-folders which store the information needed to create the various instruction and training pages. The purpose of these folders is detailed below. B.3.1 advisory This directory contains a copy of all of the training pages that have been created. The contents are displayed in hexadecimal characters, and are only utilized inside the Dy.naSearch framework. B.3.2 images This directory contains copies of all the images that can be used in the training pages, along with ﬁles that contain the geographic information for each image. B.3.3 instructPages This directory contains all of the instruction pages that can be used in an experiment. Though they all have the .txt extension, the contents are just the HTML that would be found between the <body> tags in a standard HTML ﬁle. B.3.4 tables This directory contains all of the ﬁles containing table information which can be used in the training pages. B.3.5 tracking This directory contains all of the ﬁles that hold hurricane tracking information which can be used in the training pages. B.4. USER DATA 25 B.4 User Data This folder holds the user responses for each survey that a user participates in, as well as their window scaling information. Every value is comma separated, and commas that users type in the free response questions are replaced with a “’.´ The ﬁles are named according to the user’s user name. B.5 Other Assets The DynaSearch/assets directory hold all of the background scripts and ﬁles that are used to make the DynaSearch system work. Below is a list of the subdirectories and any major ﬁles that are located in each. B.5.1 images This directory holds all of the images utilized by DynaSearch. B.5.2 php This directory holds all of the php ﬁles that are used behind the scenes. • 	config.php -Holds the database information that is required to access and modify data • 	standard.php -Holds the standard header information for every php ﬁle. This includes the <head> tags. • 	db util.php -Provides the connection to the database speciﬁed in config.php B.5.3 scripts This directory holds all of the javascript ﬁles that are used in DynaSearch. There are a few notables. e • 	editor.js -This is a rather large ﬁle that stores all of the functions used by the Training Page Editor and also by dynaview.php • 	timer.js -This ﬁle contains the scripts that are used to cover all of the ele.ments on a training page, as well as to keep track of the user click information before it is sent to the server B.5.4 style This directory just holds the style information for DynaSearch. Appendix C Math There are two places in DynaSearch where mathematical computations are performed. This is when DynaSearch draws the current location of a hurricane with the radi of the separate wind speeds, as well as the uncertainty cone. Both of these are detailed below. C.1 Radius of Wind Speed The <canvas> element is responsible for actually drawing the circle around the cur.rent location, but in order to do that, we need to provide the <canvas> element with x and y coordinates of the center, as well as the radius of the circle. The radius is predeﬁned, but we need to translate this distance in miles into pixels. First we determine the pixels per degree of longitude: pl = h/(mr . ml ) Where h is the height of the map in pixels, mr is the longitude for the right side of the map and ml is the longitude for the left side of the map. Then we determine the number of pixels that should occupy the radius by: p = pl /(d . 0.016) Where p is the total number of pixels, d is the distance in nautical miles of the radius and 0.016 is the ratio of miles to degrees. We compute the x coordinate of the center point to a pixel value as follows. x = w . (((.1 . ml ) . cx)/(mr . ml )) Where w is the width of the map in pixels, ml is the longitude of the left side of the map, mr is the longitude of the right side of the map, and cx is the longitude of the hurricane’s current position. 27 We compute the y coordinate of the center point to a pixel value as follows. y = h . ((mt . cy)/(mt . mb)) Where h is the height of the map in pixels, mt is the latitude of the top of the map, mb is the latitude of the bottom of the map, and cy is the latitude of the hurricane’s current position. With this information, we make a call to the <canvas> element, which draws a circle of the correct radius around the hurricane’s current position. C.2 Uncertainty Cone The uncertainty cone is found by calculating the latitude and longitude position of the cone based on the projected position of the hurricane over the course of ﬁve days. To do this, we ﬁrst ﬁnd determine the perpendicular of the line segment that is made between two consecutive forecast positions. For example, the line created by the projected position after one day and two days, or the projected position after three days and four days. The distance of this line segment is determined by the day of the forecast that it corresponds to. For example, the distance off the projected position after one day is 25 miles. After two days, it increases to 50 miles, and so on. First, we need to translate the latitude and longitude into pixel values that the <canvas> element can understand. This is computed as it is above. The x coordinate for the top of the error cone for a given projected position p1 is determined as follows. tx = p1x +(d . 0.016) . (p1y . p0y) Where d is the given distance from the projection position, p1 y is the y coordinate of the current projected position, and p0 y is the y coordinate of the previous position. Similarly, to computer the y coordinate for the top of the error cone for a given projected position p1, we do the following. ty = p1y +(d . 0.016) . (p1x . p0x) Where d is the given distance from the projection position, p1 y is the y coordinate of the current projected position, and p0 x is the x coordinate of the previous position. Finding the x and y coordinates are computed very similar equations. The bottom x is given as follows. bx = p1x . (d . 0.016) . (p1y . p0y) And ﬁnally, the bottom y. by = p1y . (d . 0.016) . (p1x . p0x) Appendix D Installing DynaSearch To Install the DynaSearch Software: 1. Copy the DynaSearch folder to the appropriate folder utilized by the web server. 2. Go the the ﬁle DynaSearch/assets/php/config.php and provide the appropriate information for the following: • 	$DB HOST -this is the host name where the database is located • 	$DB USER -this is the administrator account that will be able to log in, query, and make changes to the EMDSS database • 	$DB PASS -this is the password for $DB USER account • 	Note -Do not change the database name unless the name is also changed on the database server 3. Import the EMDSS database into the MySQL server. The database ﬁle is named EMDSS DB.sql.zip and can be found in the DynaSearch directory. 4. To test whether the system was imported correctly, go to *webaddress*/DynaSearch/login.php with the user name jlcox5 with the password jlcox5. It should take you to a test.ing page. If there are any problems or questions, please contact: Jonathan Cox at jlcox@g.clemson.edu 29 